import{S as v}from"./SideNav-56bc7321.js";import{s as h}from"./index-8f521754.js";import{S as m}from"./sweetalert2.all-274c1721.js";import{u as p}from"./users-2c640c08.js";import{_,r as g,o as i,j as d,m as b,l as t,F as f,x as y,z as r,E as w,G as k,k as S}from"./_plugin-vue_export-helper-73967a81.js";import"./axios-67252f11.js";import"./_commonjsHelpers-725317a4.js";const C={name:"AdminUsers",components:{SideNavComponent:v},data(){return{authenticated:h.state.auth.authenticated,user:h.state.auth.user,users:[],page:1,noResult:!1,message:""}},methods:{async loadDataFromServer(){try{const a=await p.getUsers(this.page,this.user.bearer);a.data.length?(this.users.push(...a.data),this.page++):(this.noResult=!0,this.message="No result found")}catch{this.noResult=!0,this.message="Error loading data"}},async onClickDelete(a){try{let s=this;const l=a.target.getAttribute("data-id");m.fire({title:"Apakah anda yakin",showCancelButton:!0,confirmButtonText:"Yes"}).then(c=>{c.isConfirmed&&m.fire("Data berhasil dihapus!","","success").then(async function(){(await p.deleteUsersById(l,s.user.bearer)).data&&location.reload()})})}catch{}}},async mounted(){await this.loadDataFromServer()}},N={class:"g-sidenav-show bg-gray-100"},B={class:"main-content position-relative border-radius-lg"},D=S('<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" data-scroll="false"><div class="container-fluid py-1 px-3"><div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar"><div class="ms-md-auto pe-md-3 d-flex align-items-center"><div class="input-group"><span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span><input type="text" class="form-control" placeholder="Type here..."></div></div></div></div></nav><div class="container-fluid"><div class="row"><div class="col-lg-4"><div class="row"><div class="col-md-12 mb-lg-0 mb-4"><div class="row"><div class="col-6 text-end"><a class="btn bg-gradient-dark mb-0" href="/admstr/add-users"><i class="fas fa-plus"></i>  Tambah </a></div></div></div></div></div></div></div>',2),F={class:"container-fluid py-4"},V={class:"row"},A={class:"col-12"},E={class:"card mb-4"},R=t("div",{class:"card-header pb-0"},[t("h6",null,"Kategori Berita")],-1),U={class:"card-body px-0 pt-0 pb-2"},T={class:"table-responsive p-0"},L={class:"table align-items-center mb-0"},M=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Nama "),t("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Email "),t("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Phone "),t("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Aksi ")])],-1),j=["id"],z={class:"align-middle text-center"},G={class:"text-secondary text-xs font-weight-bold"},H={class:"align-middle text-center"},I={class:"text-secondary text-xs font-weight-bold"},K={class:"align-middle text-center"},P={class:"text-secondary text-xs font-weight-bold"},Y={class:"align-middle"},q=["data-id"],J={class:"text-center mt-5"};function O(a,s,l,c,n,o){const u=g("SideNavComponent");return i(),d("body",N,[b(u),t("main",B,[D,t("div",F,[t("div",V,[t("div",A,[t("div",E,[R,t("div",U,[t("div",T,[t("table",L,[M,t("tbody",null,[(i(!0),d(f,null,y(n.users,e=>(i(),d("tr",{key:e.id,id:e.id},[t("td",z,[t("span",G,r(e.name),1)]),t("td",H,[t("span",I,r(e.email),1)]),t("td",K,[t("span",P,r(e.phone),1)]),t("td",Y,[t("a",{href:"#",class:"text-secondary font-weight-bold text-xs","data-toggle":"tooltip","data-id":e.id,onClick:s[0]||(s[0]=w((...x)=>o.onClickDelete&&o.onClickDelete(...x),["prevent"]))}," Hapus ",8,q)])],8,j))),128))])])]),t("div",J,[n.noResult?k("",!0):(i(),d("button",{key:0,onClick:s[1]||(s[1]=(...e)=>o.loadDataFromServer&&o.loadDataFromServer(...e)),type:"button",class:"btn text-white bg-gradient-dark"}," Load More "))])])])])])])])])}const st=_(C,[["render",O]]);export{st as default};
