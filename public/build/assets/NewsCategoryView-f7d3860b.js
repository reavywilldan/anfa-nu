import{S as _}from"./SideNav-0f8b819c.js";import{s as h}from"./index-4fd3c68c.js";import{n}from"./newsCategory-04546221.js";import{S as m}from"./sweetalert2.all-274c1721.js";import{_ as v,r as x,o as i,j as d,m as y,l as t,z as f,H as b,F as w,q as C,y as p,E as S,G as k,k as N}from"./_plugin-vue_export-helper-dec0d763.js";import"./axios-67252f11.js";import"./_commonjsHelpers-725317a4.js";const D={name:"AdminNewsCategory",components:{SideNavComponent:_},data(){return{authenticated:h.state.auth.authenticated,user:h.state.auth.user,newsCategory:[],page:1,search:"",noResult:!1,message:""}},methods:{async loadDataFromServer(){try{const a={page:this.page,search:this.search},e=await n.getNewsCategory(a);e.data.length?(this.newsCategory.push(...e.data),this.page++):(this.noResult=!0,this.message="No result found")}catch{this.noResult=!0,this.message="Error loading data"}},async onKeyupLoadDataFromServer(){try{const a={page:1,search:this.search},e=await n.getNewsCategory(a);e.data.length&&(this.newsCategory=e.data)}catch{this.noResult=!0,this.message="Error loading data"}},async onClickDelete(a){try{let e=this;const l=a.target.getAttribute("data-id");m.fire({title:"Apakah anda yakin",showCancelButton:!0,confirmButtonText:"Yes"}).then(c=>{c.isConfirmed&&m.fire("Data berhasil dihapus!","","success").then(async function(){(await n.deleteNewsCategoryById(l,e.user.bearer)).data&&location.reload()})})}catch{}}},async mounted(){await this.loadDataFromServer()}},F={class:"g-sidenav-show bg-gray-100"},B={class:"main-content position-relative border-radius-lg"},E={class:"navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl",id:"navbarBlur","data-scroll":"false"},V={class:"container-fluid py-1 px-3"},K={class:"collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4",id:"navbar"},L={class:"ms-md-auto pe-md-3 d-flex align-items-center"},R={class:"input-group"},T=t("span",{class:"input-group-text text-body"},[t("i",{class:"fas fa-search","aria-hidden":"true"})],-1),A=N('<div class="container-fluid"><div class="row"><div class="col-lg-4"><div class="row"><div class="col-md-12 mb-lg-0 mb-4"><div class="row"><div class="col-6 text-end"><a class="btn bg-gradient-dark mb-0" href="/admstr/add-category-news"><i class="fas fa-plus"></i>  Tambah </a></div></div></div></div></div></div></div>',1),j={class:"container-fluid py-4"},M={class:"row"},H={class:"col-12"},q={class:"card mb-4"},z=t("div",{class:"card-header pb-0"},[t("h6",null,"Kategori Berita")],-1),G={class:"card-body px-0 pt-0 pb-2"},I={class:"table-responsive p-0"},U={class:"table align-items-center mb-0"},Y=t("thead",null,[t("tr",null,[t("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Nama "),t("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," Tanggal "),t("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," Aksi ")])],-1),J=["id"],O={class:"align-middle text-center"},P={class:"text-secondary text-xs font-weight-bold"},Q={class:"align-middle text-center"},W={class:"text-secondary text-xs font-weight-bold"},X={class:"align-middle"},Z=["href"],$=["data-id"],tt={class:"text-center mt-5"};function et(a,e,l,c,r,o){const u=x("SideNavComponent");return i(),d("body",F,[y(u),t("main",B,[t("nav",E,[t("div",V,[t("div",K,[t("div",L,[t("div",R,[T,f(t("input",{type:"text",class:"form-control",placeholder:"Type here...","onUpdate:modelValue":e[0]||(e[0]=s=>r.search=s),onKeyup:e[1]||(e[1]=(...s)=>o.onKeyupLoadDataFromServer&&o.onKeyupLoadDataFromServer(...s))},null,544),[[b,r.search]])])])])])]),A,t("div",j,[t("div",M,[t("div",H,[t("div",q,[z,t("div",G,[t("div",I,[t("table",U,[Y,t("tbody",null,[(i(!0),d(w,null,C(r.newsCategory,s=>(i(),d("tr",{key:s.id,id:s.id},[t("td",O,[t("span",P,p(s.name),1)]),t("td",Q,[t("span",W,p(a.formatDate(s.created_at)),1)]),t("td",X,[t("a",{href:"/admstr/edit-category-news/"+s.id,class:"text-secondary font-weight-bold text-xs","data-toggle":"tooltip","data-original-title":"Edit category"}," Edit ",8,Z),t("a",{href:"#",class:"text-secondary font-weight-bold text-xs","data-toggle":"tooltip","data-original-title":"Delete category","data-id":s.id,onClick:e[2]||(e[2]=S((...g)=>o.onClickDelete&&o.onClickDelete(...g),["prevent"]))}," Hapus ",8,$)])],8,J))),128))])])]),t("div",tt,[r.noResult?k("",!0):(i(),d("button",{key:0,onClick:e[3]||(e[3]=(...s)=>o.loadDataFromServer&&o.loadDataFromServer(...s)),type:"button",class:"btn text-white bg-gradient-dark"}," Load More "))])])])])])])])])}const lt=v(D,[["render",et]]);export{lt as default};
