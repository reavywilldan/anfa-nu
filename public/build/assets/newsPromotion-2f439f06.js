import{a as o}from"./axios-67252f11.js";import{l as u}from"./lodash-17fa2b00.js";const d={url:"/api/news-promotion",async getNews({page:t=1,search:n,limit:a}){try{t=t||1,t=parseInt(t),n=n||"",n=String(n);let r=`${this.url}?page=${t}`;n&&(r+=`&search=${n}`),a&&(r+=`&limit=${a}`);const i=await o({method:"get",url:r,headers:{}});return i.data?i.status==200?i.data:{}:{}}catch(r){return r}},async getNewsById(t=1){try{t=t||1,t=parseInt(t);const a={method:"get",url:`${this.url}/${t}`,headers:{}},r=await o(a);return r.data?r.status==200?r.data:{}:{}}catch(n){return n}},async deleteNewsById(t=1,n){try{t=t||1,t=parseInt(t);const r={method:"delete",url:`${this.url}/${t}`,headers:{Accept:"application/json",Authorization:`Bearer ${n}`,"Content-Type":"application/json"}},s=await o(r);return s.data?s.status==200?s.data:{}:{}}catch(a){return a}},async postNews({username:t,title:n,text:a,category:r,photo:s},i){t=t||"",t=String(t),n=n||"",n=n||"",a=a||"",a=String(a),r=r||[],r=u.isArray(r)?r:[],s=s||[],s=u.isArray(s)?s:[];const c=JSON.stringify({username:t,title:n,text:a,category:r,photo:s}),p={method:"post",maxBodyLength:1/0,url:this.url,headers:{Accept:"application/json",Authorization:`Bearer ${i}`,"Content-Type":"application/json"},data:c},e=await o(p);return e.data?e.status==200?e.data:{}:{}}};export{d as n};
